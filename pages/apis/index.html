<script>
    function idToHref(id) {
        switch (id) {
            case "ms-checked":
            case "ms-disabled":
            case "ms-enabled":
            case "ms-selected":
            case "ms-readonly":
                return "bool-bindings"
            case "ms-href":
            case "ms-src":
            case "ms-alt":
            case "ms-title":
            case "ms-value":
                return "string-bindings"

        }
        return id
    }
    var apisVM = avalon.define("apis", function(vm) {
        vm.bindings = "ms-if, ms-text, ms-duplex,ms-data, ms-visible, ms-on, ms-href, ms-src, ms-alt, ms-title, ms-value, ms-html, ms-repeat, ms-checked, ms-disabled, ms-selected,ms-readonly".match(avalon.rword).sort()
        vm.statics = "mix, bind, unbind, ready, scan, define".match(avalon.rword).sort()
        vm.callbacks = ["data-callback"]
        vm.concepts = [
            {
                name: "非监控属性",
                id: "unobservable"
            },
            {
                name: "监控属性",
                id: "observable"
            },
            {
                name: "监控数组",
                id: "collection"
            },
            {
                name: "计算属性",
                id: "computed"
            },
            {
                name: "$watch方法",
                id: "$watch"
            },
            {
                name: "视图模型",
                id: "vmodel"
            },
            {
                name: "数据模型",
                id: "$model"
            }]
        vm.bindingIncludes = []
        vm.scrollToView = function(id) {
            id = idToHref(id)
            var el = document.getElementById(id)
            if (el) {
                var top = avalon(el).offset().top - 70
                avalon(window.parent).scrollTop(top)
            }
        }
        vm.highlight = function() {
            SyntaxHighlighter.highlight()
        }
    })
    var uniq = {}
    apisVM.bindings.forEach(function(ID) {
        var newID = idToHref(ID)
        if (!uniq[newID]) {
            apisVM.bindingIncludes.push(newID)
            uniq[newID] = 1
        }
    })
</script>
<style>
    .apis-table{
        border-collapse: collapse;
    }
    .apis-list {
        width:150px;
        background:rgb(221,221,204);
<<<<<<< HEAD
        font-size: 14px;
        line-height: 1.5;
    }
    .apis-details{
        padding:0 1em;
        background:rgb(238,238,221);
        font: 13px/1.5 "OpenSansRegular", "Helvetica Neue", Helvetica, Arial, sans-serif;
=======
    }
    .apis-details{
        background:rgb(238,238,221);
>>>>>>> 51621cd61dc3e4f1cfde1d953129d84746d28843
    }
    .apis-details p{
        text-indent: 2em;
    }
    .vnac {
        list-style: none;
        display:block;
        margin:0px;
        padding:0px;
    }
    .vnac li{
        margin:0px;
        padding:0px;
        font-size: 12px;
        line-height: 1.5;
        color:#28966f;
        display: block;
    }
    .vnac li .title{
        font-size: 12px;
        line-height: 1.5;
        font-weight: 700;
        color:#28966f;
    }
    .vnac ul.child-nav{
        display:block;
        list-style: none;
        margin:5px 0px 5px 20px;;
        padding:0px;
    }
</style>

<table class="apis-table" ms-controller="apis">
    <tr>
        <td class="apis-list" valign="top">
            <ul class="vnac">
                <li>
                    <div class="title">核心概念</div>
                    <ul class="child-nav">
                        <li ms-repeat="concepts" ms-click="scrollToView('c-'+el.id)">{{el.name}}</li>
                    </ul>
                </li>
                <li>
                    <div class="title">各种绑定</div>
                    <ul class="child-nav">
                        <li ms-repeat="bindings" ms-click="scrollToView(el)">{{el}}</li>
                    </ul>
                </li>
                <li>
                    <div class="title">静态方法</div>
                    <ul class="child-nav">
                        <li ms-repeat="statics" ms-click="scrollToView(el)">{{el}}</li>
                    </ul>
                </li>
                <li>
                    <div class="title">核心方法</div>
                    <ul class="child-nav">
                        <li ms-repeat="callbacks" ms-click="scrollToView(el)">{{el}}</li>
                    </ul>
                </li>
            </ul>
        </td>
        <td class="apis-details">
            <div ms-repeat="concepts" ms-include-src="pages/apis/concepts/{{el.id}}.html"  data-include-rendered="highlight">

            </div>
            <div ms-repeat="bindingIncludes" ms-include-src="pages/apis/bindings/{{el}}.html" data-include-rendered="highlight">

            </div>
            <div ms-repeat="statics" ms-include-src="pages/apis/statics/{{el}}.html"  data-include-rendered="highlight">

            </div>
            <div ms-repeat="callbacks" ms-include-src="pages/apis/callbacks/{{el}}.html"  data-include-rendered="highlight">

            </div>

        </td>
    </tr>
</table>

