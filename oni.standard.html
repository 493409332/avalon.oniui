<!DOCTYPE html>
<html>
    <head>
        <title>规范</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
    </head>
    <body>
        <ul>
            <li>
                组件基于avalon1.2.5构建，每个必须有$init, $remove，方便让框架自行管理创建与销毁。$remove注意对存在子节点的元素进行内部清空，elem.innerHTML = elem.textContent = ""，注意移除组件内部绑定的事件回调。
                <blockquote>
                    需要值得注意的是,$remove操作会在元素移出DOM树时触发,但普通的移动节点操作也会让元素离开DOM树,这时就会引发$remove操作,
                    导致元素上面的组件被销毁.为防止误杀,我们在移动节点时,可以在元素定义msRetain属性,elem.msRetain = true,待到移动后再置为false
                </blockquote>>
            </li>
            <li>
                组件要最大程度兼容之前的，不行就两个，一个是兼容的，一个无牵制的
            </li>
            <li>
                组件的显示隐藏必须通过toggle属性
            </li>
            <li>
                组件必须有widgetElement属性，引用元素本身
            </li>
            <li>
                有模板的组件的默认匹配项里必须getTemplate方法 ,用于修改template, template在vm中不可监控的
            </li>
            <li>尽量减举行监控元素，善用$skipArray。</li>
            <li>为元素绑定事件时，注意不要覆盖用户预置的ms-click, ms-keyup等事件</li>
            <li>
                组件必须有改写模板的配置项,参看@组件的popup
            </li>
            <li>
                组件的模板必须独立出来， 组件的模板与样式合而为一,通过MS_OPTION_STYLE分隔,在组件第一次加载时,添加到avalonStyle.cssText里面去
            </li>
            <li>
                组件的模板请使用MS_OPTION_*做占位符
            </li>
            <li>
                组件的回调名应该以onXxx开头
            </li>
            <li>
                组件的模板编写,请遵循<a href="http://www.cnblogs.com/rubylouvre/p/3642024.html">《avalon 的HTML规范》</a>
            </li>
        </ul>
        


    </pre>
</body>
</html>
