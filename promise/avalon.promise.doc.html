<!DOCTYPE html>

<html>
    <head>
        <title>异步列队Promise兼容模块</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">
        <link type="text/css" rel="stylesheet" href="../style/avalon.doc.css"/>

    </head>
    <body>
        <div>
            <h2>JSON</h2>
            <fieldset>
                <legend>异步列队Promise兼容模块</legend>
                <p>这是基于ecma262 v6 的Promise API设计的， 它广泛应用于动画，列队， AJAX等异步操作中，是一个非常强大的范式，希望大家能都能尽快掌握它</p>

            </fieldset>
            <fieldset>
                <legend>使用说明</legend>
                <table class="table-doc">
                    <tr>
                        <th>名字</th><th>默认值</th> <th>说明</th>
                    </tr> 
                    <tr>
                        <td colspan="3" align="center">配置参数</td>
                    </tr>
                    <tr>
                        <td>new Promise(executor)</td>
                        <td></td> 
                        <td>executor为一个函数，它有两个参数resolve、 reject，也都是函数，
                            通过对resolve、 reject传参，从而驱动异步列队执行</td>
                    </tr>
                    <tr>
                        <td>_state</td>
                        <td>"pending"</td> 
                        <td>实例的私自属性，非标准实现，用于标识当前的状态，最开始为pending，
                            当执行了上面的resolve方法后变成fulfilled，
                            当执行了上面的reject方法后变成rejected，
                            此过程不可逆
                        </td>
                    </tr>
                    <tr>
                        <td>_fired</td>
                        <td>false</td> 
                        <td>实例的私自属性，非标准实现，用于标识实例是否已经执行过resolve或reject方法
                        </td>
                    </tr>
                    <tr>
                        <td>_resolve(value)</td>
                        <td></td> 
                        <td>实例的私自方法，非标准实现，executor中的resolve的真身
                        </td>
                    </tr>
                    <tr>
                        <td>_reject(reason)</td>
                        <td></td> 
                        <td>实例的私自方法，非标准实现，executor中的reject的真身
                        </td>
                    </tr>
                       <tr>
                        <td>_fire(value)</td>
                        <td></td> 
                        <td>实例的私自方法，非标准实现，上面的_resolve,_reject方法内部都调用的一个核心方法，它会将
                           _fired属性设置为true，value参数放到_value属性上，并且开始异步执行用then方法添加的所有回调
                        </td>
                    </tr>
                </table>
            </fieldset>
        </div>

    </body>
</html>
