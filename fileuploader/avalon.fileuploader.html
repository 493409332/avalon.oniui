

<div class="oni-uploader-wrapper" ms-if="showPreview">
	<div class="preview-stage">
		<div 
			class="preview-image-wrapper"
			ms-repeat="previews"
			ms-css-width="previewWidth"
			ms-css-height="previewHeight">
			<div class="preview-menu">
				<div><a class="icon" href="javascript:void(0);" ms-on-click="onPreviewRemoveClicked(el)">&times;</a>{{el.name}}</div>
			</div>
			<img ms-attr-src="el.preview"/>
			<div class="preview-progress-wrapper">
				<div class="preview-progress-body">
					<div class='progress-bar' ms-css-width="{{el.uploadProgress}}%"></div>
					<span class="message">{{el.message}}</span>
				</div>
			</div>
		</div>
	</div>

	<button 
		type="button" 
		class="uploader-button-add uploader-button"
		ms-click="addFileClicked" >
		{{addButtonText}}
		<object ms-if="useFlashRuntime"
			classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
			width="168"
			align="middle"
			height="44"
			codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0"
			id="flashId"
			style="position:absolute;"
			>
			<param name="allowScriptAccess" value="sameDomain" />
			<param name="wmode" value="transparent">
			<param name="allowFullScreen" value="false" />
			<param name="movie" value="avalon.fileuploader.swf?vmid=##VM_ID##" />
			<param name="quality" value="high" />
			<embed src="avalon.fileuploader.swf?vmid=##VM_ID##" style="float:right;"
				type="application/x-shockwave-flash"
				align="middle"
				width="168"
				height="44"
				quality="high"
				wmode="transparent"
				pluginspage="http://www.adobe.com/go/getflashplayer_cn"
				allowScriptAccess="sameDomain"
				allowFullScreen="false" 
				name="flashId"
			/>
		</object>
		<input type="file" 
				ms-if="useHtml5Runtime"
				ms-attr-accept="getInputAcceptTypes(false)"
				ms-on-change="onFileFieldChanged"
				ms-attr-multiple="multipleFileAllowed"
				style="display:none" />
	</button>
	<button 
		type="button"
		class="uploader-button-upload uploader-button"
    	ms-click="uploadClicked">
    	{{uploadButtonText}}
    </button>
</div>